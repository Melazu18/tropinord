{"ast":null,"code":"import React,{useRef,useState}from\"react\";import emailjs from\"@emailjs/browser\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Contact(){const form=useRef();const{t}=useTranslation();const[previews,setPreviews]=useState([]);const sendEmail=e=>{e.preventDefault();emailjs.sendForm(process.env.REACT_APP_EMAILJS_SERVICE_ID,process.env.REACT_APP_EMAILJS_TEMPLATE_ID,form.current,process.env.REACT_APP_EMAILJS_PUBLIC_KEY).then(()=>{alert(t(\"contact.success\"));form.current.reset();setPreviews([]);},error=>{alert(t(\"contact.error\"));console.error(error.text);});};const handleFileChange=e=>{e.preventDefault();const files=Array.from(e.dataTransfer?e.dataTransfer.files:e.target.files);const maxFileSizeMB=5;const maxFiles=5;if(files.length>maxFiles){const message=\"You can upload a maximum of \".concat(maxFiles,\" files.\");document.getElementById(\"file-limit-alert\").textContent=message;return;}else{document.getElementById(\"file-limit-alert\").textContent=\"\";}const validFiles=files.filter(file=>file.size/1024/1024<=maxFileSizeMB);const previewUrls=validFiles.map(file=>URL.createObjectURL(file));if(validFiles.length<files.length){document.getElementById(\"file-limit-alert\").textContent=\"Some files were too large (over 5MB) and were skipped.\";}setPreviews(previewUrls);};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6 text-center\",children:t(\"contact.title\")}),/*#__PURE__*/_jsxs(\"form\",{ref:form,onSubmit:sendEmail,className:\"space-y-4\",\"aria-label\":\"Contact form\",\"aria-describedby\":\"form-description\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"form-description\",className:\"sr-only\",children:\"Fill out the form below to contact TropiNord. All fields are required unless marked optional.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user_name\",className:\"block font-medium\",children:t(\"contact.name\")}),/*#__PURE__*/_jsx(\"input\",{id:\"user_name\",type:\"text\",name:\"user_name\",required:true,className:\"w-full border rounded p-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"user_email\",className:\"block font-medium\",children:t(\"contact.email\")}),/*#__PURE__*/_jsx(\"input\",{id:\"user_email\",type:\"email\",name:\"user_email\",required:true,className:\"w-full border rounded p-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subject\",className:\"block font-medium\",children:t(\"contact.subject\")}),/*#__PURE__*/_jsx(\"input\",{id:\"subject\",type:\"text\",name:\"subject\",required:true,className:\"w-full border rounded p-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",className:\"block font-medium\",children:t(\"contact.category\")}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",className:\"w-full border rounded p-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:t(\"contact.options.oils\")}),/*#__PURE__*/_jsx(\"option\",{children:t(\"contact.options.soaps\")}),/*#__PURE__*/_jsx(\"option\",{children:t(\"contact.options.agro\")}),/*#__PURE__*/_jsx(\"option\",{children:t(\"contact.options.other\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"block font-medium\",children:t(\"contact.message\")}),/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",rows:\"4\",required:true,className:\"w-full border rounded p-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{onDrop:handleFileChange,onDragOver:e=>e.preventDefault(),className:\"w-full border-2 border-dashed border-green-500 rounded p-4 text-center text-gray-600 cursor-pointer\",\"aria-describedby\":\"file-limit-alert\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attachment\",className:\"block font-medium cursor-pointer\",children:t(\"contact.attachment\")}),/*#__PURE__*/_jsx(\"input\",{id:\"attachment\",type:\"file\",name:\"attachment\",accept:\"image/*,application/pdf,.doc,.docx\",multiple:true,className:\"hidden\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"p\",{id:\"file-limit-alert\",className:\"text-sm text-red-600 mt-1\",role:\"alert\"}),previews.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 grid grid-cols-2 gap-2\",\"aria-label\":\"File preview thumbnails\",children:previews.map((src,index)=>/*#__PURE__*/_jsx(\"img\",{src:src,alt:\"Preview of uploaded file \".concat(index+1),className:\"h-32 object-cover rounded border\"},index))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",children:t(\"contact.send\")})]})]});}","map":{"version":3,"names":["React","useRef","useState","emailjs","useTranslation","jsx","_jsx","jsxs","_jsxs","Contact","form","t","previews","setPreviews","sendEmail","e","preventDefault","sendForm","process","env","REACT_APP_EMAILJS_SERVICE_ID","REACT_APP_EMAILJS_TEMPLATE_ID","current","REACT_APP_EMAILJS_PUBLIC_KEY","then","alert","reset","error","console","text","handleFileChange","files","Array","from","dataTransfer","target","maxFileSizeMB","maxFiles","length","message","concat","document","getElementById","textContent","validFiles","filter","file","size","previewUrls","map","URL","createObjectURL","className","children","ref","onSubmit","id","htmlFor","type","name","required","rows","onDrop","onDragOver","accept","multiple","onChange","role","src","index","alt"],"sources":["C:/Users/paab0/Downloads/tropinord-react-fixed/src/pages/Contact.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport emailjs from \"@emailjs/browser\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function Contact() {\r\n  const form = useRef();\r\n  const { t } = useTranslation();\r\n  const [previews, setPreviews] = useState([]);\r\n\r\n  const sendEmail = (e) => {\r\n    e.preventDefault();\r\n    emailjs\r\n      .sendForm(\r\n        process.env.REACT_APP_EMAILJS_SERVICE_ID,\r\n        process.env.REACT_APP_EMAILJS_TEMPLATE_ID,\r\n        form.current,\r\n        process.env.REACT_APP_EMAILJS_PUBLIC_KEY\r\n      )\r\n      .then(\r\n        () => {\r\n          alert(t(\"contact.success\"));\r\n          form.current.reset();\r\n          setPreviews([]);\r\n        },\r\n        (error) => {\r\n          alert(t(\"contact.error\"));\r\n          console.error(error.text);\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    e.preventDefault();\r\n    const files = Array.from(\r\n      e.dataTransfer ? e.dataTransfer.files : e.target.files\r\n    );\r\n    const maxFileSizeMB = 5;\r\n    const maxFiles = 5;\r\n\r\n    if (files.length > maxFiles) {\r\n      const message = `You can upload a maximum of ${maxFiles} files.`;\r\n      document.getElementById(\"file-limit-alert\").textContent = message;\r\n      return;\r\n    } else {\r\n      document.getElementById(\"file-limit-alert\").textContent = \"\";\r\n    }\r\n\r\n    const validFiles = files.filter(\r\n      (file) => file.size / 1024 / 1024 <= maxFileSizeMB\r\n    );\r\n    const previewUrls = validFiles.map((file) => URL.createObjectURL(file));\r\n\r\n    if (validFiles.length < files.length) {\r\n      document.getElementById(\"file-limit-alert\").textContent =\r\n        \"Some files were too large (over 5MB) and were skipped.\";\r\n    }\r\n\r\n    setPreviews(previewUrls);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-6\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-center\">\r\n        {t(\"contact.title\")}\r\n      </h2>\r\n\r\n      <form\r\n        ref={form}\r\n        onSubmit={sendEmail}\r\n        className=\"space-y-4\"\r\n        aria-label=\"Contact form\"\r\n        aria-describedby=\"form-description\"\r\n      >\r\n        <p id=\"form-description\" className=\"sr-only\">\r\n          Fill out the form below to contact TropiNord. All fields are required\r\n          unless marked optional.\r\n        </p>\r\n        <div>\r\n          <label htmlFor=\"user_name\" className=\"block font-medium\">\r\n            {t(\"contact.name\")}\r\n          </label>\r\n          <input\r\n            id=\"user_name\"\r\n            type=\"text\"\r\n            name=\"user_name\"\r\n            required\r\n            className=\"w-full border rounded p-2\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"user_email\" className=\"block font-medium\">\r\n            {t(\"contact.email\")}\r\n          </label>\r\n          <input\r\n            id=\"user_email\"\r\n            type=\"email\"\r\n            name=\"user_email\"\r\n            required\r\n            className=\"w-full border rounded p-2\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"subject\" className=\"block font-medium\">\r\n            {t(\"contact.subject\")}\r\n          </label>\r\n          <input\r\n            id=\"subject\"\r\n            type=\"text\"\r\n            name=\"subject\"\r\n            required\r\n            className=\"w-full border rounded p-2\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"category\" className=\"block font-medium\">\r\n            {t(\"contact.category\")}\r\n          </label>\r\n          <select\r\n            id=\"category\"\r\n            name=\"category\"\r\n            className=\"w-full border rounded p-2\"\r\n          >\r\n            <option>{t(\"contact.options.oils\")}</option>\r\n            <option>{t(\"contact.options.soaps\")}</option>\r\n            <option>{t(\"contact.options.agro\")}</option>\r\n            <option>{t(\"contact.options.other\")}</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"message\" className=\"block font-medium\">\r\n            {t(\"contact.message\")}\r\n          </label>\r\n          <textarea\r\n            id=\"message\"\r\n            name=\"message\"\r\n            rows=\"4\"\r\n            required\r\n            className=\"w-full border rounded p-2\"\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          onDrop={handleFileChange}\r\n          onDragOver={(e) => e.preventDefault()}\r\n          className=\"w-full border-2 border-dashed border-green-500 rounded p-4 text-center text-gray-600 cursor-pointer\"\r\n          aria-describedby=\"file-limit-alert\"\r\n        >\r\n          <label\r\n            htmlFor=\"attachment\"\r\n            className=\"block font-medium cursor-pointer\"\r\n          >\r\n            {t(\"contact.attachment\")}\r\n          </label>\r\n          <input\r\n            id=\"attachment\"\r\n            type=\"file\"\r\n            name=\"attachment\"\r\n            accept=\"image/*,application/pdf,.doc,.docx\"\r\n            multiple\r\n            className=\"hidden\"\r\n            onChange={handleFileChange}\r\n          />\r\n          <p\r\n            id=\"file-limit-alert\"\r\n            className=\"text-sm text-red-600 mt-1\"\r\n            role=\"alert\"\r\n          ></p>\r\n          {previews.length > 0 && (\r\n            <div\r\n              className=\"mt-2 grid grid-cols-2 gap-2\"\r\n              aria-label=\"File preview thumbnails\"\r\n            >\r\n              {previews.map((src, index) => (\r\n                <img\r\n                  key={index}\r\n                  src={src}\r\n                  alt={`Preview of uploaded file ${index + 1}`}\r\n                  className=\"h-32 object-cover rounded border\"\r\n                />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n        >\r\n          {t(\"contact.send\")}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}