{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{FaGlobe}from\"react-icons/fa\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LanguageSwitcher(){const{i18n}=useTranslation();const[showDropdown,setShowDropdown]=useState(false);const dropdownRef=useRef();const currentLang=(i18n===null||i18n===void 0?void 0:i18n.language)||localStorage.getItem(\"lng\")||\"en\";const availableLanguages=[{code:\"en\",label:\"English\",flag:\"🇬🇧\"},{code:\"sv\",label:\"Svenska\",flag:\"🇸🇪\"},{code:\"ar\",label:\"العربية\",flag:\"🇸🇦\"},{code:\"zh\",label:\"中文\",flag:\"🇨🇳\"},{code:\"sw\",label:\"Kiswahili\",flag:\"🇰🇪\"},{code:\"pt\",label:\"Português\",flag:\"🇵🇹\"},{code:\"es\",label:\"Español\",flag:\"🇪🇸\"},{code:\"fr\",label:\"Français\",flag:\"🇫🇷\"},{code:\"de\",label:\"Deutsch\",flag:\"🇩🇪\"},{code:\"hi\",label:\"हिन्दी\",flag:\"🇮🇳\"}];const toggleDropdown=()=>setShowDropdown(prev=>!prev);const changeLanguage=lng=>{i18n.changeLanguage(lng);localStorage.setItem(\"lng\",lng);setShowDropdown(false);};useEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setShowDropdown(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative text-sm\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"button\",{onClick:toggleDropdown,className:\"flex items-center gap-1 text-gray-700 hover:text-green-700\",children:[/*#__PURE__*/_jsx(FaGlobe,{}),/*#__PURE__*/_jsx(\"span\",{children:currentLang.toUpperCase()})]}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 bg-white border border-gray-200 rounded shadow-md z-50\",children:availableLanguages.map(lang=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>changeLanguage(lang.code),className:\"flex items-center w-full px-4 py-2 text-left hover:bg-green-50 \".concat(currentLang===lang.code?\"font-semibold text-green-700\":\"\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:lang.flag}),lang.label]},lang.code))})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","FaGlobe","useTranslation","jsx","_jsx","jsxs","_jsxs","LanguageSwitcher","i18n","showDropdown","setShowDropdown","dropdownRef","currentLang","language","localStorage","getItem","availableLanguages","code","label","flag","toggleDropdown","prev","changeLanguage","lng","setItem","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","ref","children","onClick","toUpperCase","map","lang","concat"],"sources":["C:/Users/paab0/Downloads/tropinord-react-fixed/src/components/ui/LanguageSwitcher.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { FaGlobe } from \"react-icons/fa\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nexport default function LanguageSwitcher() {\r\n  const { i18n } = useTranslation();\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const dropdownRef = useRef();\r\n\r\n  const currentLang = i18n?.language || localStorage.getItem(\"lng\") || \"en\";\r\n\r\n  const availableLanguages = [\r\n    { code: \"en\", label: \"English\", flag: \"🇬🇧\" },\r\n    { code: \"sv\", label: \"Svenska\", flag: \"🇸🇪\" },\r\n    { code: \"ar\", label: \"العربية\", flag: \"🇸🇦\" },\r\n    { code: \"zh\", label: \"中文\", flag: \"🇨🇳\" },\r\n    { code: \"sw\", label: \"Kiswahili\", flag: \"🇰🇪\" },\r\n    { code: \"pt\", label: \"Português\", flag: \"🇵🇹\" },\r\n    { code: \"es\", label: \"Español\", flag: \"🇪🇸\" },\r\n    { code: \"fr\", label: \"Français\", flag: \"🇫🇷\" },\r\n    { code: \"de\", label: \"Deutsch\", flag: \"🇩🇪\" },\r\n    { code: \"hi\", label: \"हिन्दी\", flag: \"🇮🇳\" },\r\n  ];\r\n\r\n  const toggleDropdown = () => setShowDropdown((prev) => !prev);\r\n\r\n  const changeLanguage = (lng) => {\r\n    i18n.changeLanguage(lng);\r\n    localStorage.setItem(\"lng\", lng);\r\n    setShowDropdown(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative text-sm\" ref={dropdownRef}>\r\n      <button\r\n        onClick={toggleDropdown}\r\n        className=\"flex items-center gap-1 text-gray-700 hover:text-green-700\"\r\n      >\r\n        <FaGlobe />\r\n        <span>{currentLang.toUpperCase()}</span>\r\n      </button>\r\n\r\n      {showDropdown && (\r\n        <div className=\"absolute right-0 mt-2 bg-white border border-gray-200 rounded shadow-md z-50\">\r\n          {availableLanguages.map((lang) => (\r\n            <button\r\n              key={lang.code}\r\n              onClick={() => changeLanguage(lang.code)}\r\n              className={`flex items-center w-full px-4 py-2 text-left hover:bg-green-50 ${\r\n                currentLang === lang.code ? \"font-semibold text-green-700\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"mr-2\">{lang.flag}</span>\r\n              {lang.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}